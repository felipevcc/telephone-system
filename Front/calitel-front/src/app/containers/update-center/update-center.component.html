<app-top-bar></app-top-bar>
<app-navbar></app-navbar>

<div *ngIf="isLoading; else contentBlock">

</div>

<ng-template #contentBlock>

  <div *ngIf="center; else elseBlock">

    <div class="update-center-container">
  
      <div class="update-center-container__form-container">
        <h2>Actualizar central</h2>
        <p>Actualiza los campos necesarios para hacer el envío del formulario</p>
        
        <form (ngSubmit)="onSubmit()" [formGroup]="form">
    
          <div class="inputs-section">
    
            <div class="form-input">
              <label for="email">Correo electrónico</label>
              <input type="text" pInputText id="email" name="email" formControlName="email" placeholder="Ingrese el correo" autocomplete="off" />
              <small class="p-error" *ngIf="form.get('email')?.dirty && form.get('email')?.hasError('required')">Campo requerido.</small>
              <small class="p-error" *ngIf="form.get('email')?.hasError('email') || form.get('email')?.hasError('maxlength')">Correo no válido.</small>
            </div>
            
            <div class="form-input">
              <label for="phoneNumber">Número de teléfono</label>
              <input type="text" pInputText id="phoneNumber" name="phoneNumber" formControlName="phoneNumber" placeholder="Ingrese el número" autocomplete="off" />
              <small class="p-error" *ngIf="form.get('phoneNumber')?.dirty && form.get('phoneNumber')?.hasError('required')">Campo requerido.</small>
              <small class="p-error" *ngIf="form.get('phoneNumber')?.hasError('maxlength')">Número no válido.</small>
            </div>
            
            <div class="form-input">
              <label for="address">Dirección</label>
              <input type="text" pInputText id="address" name="address" formControlName="address" placeholder="Ingrese la dirección" autocomplete="off" />
              <small class="p-error" *ngIf="form.get('address')?.dirty && form.get('address')?.hasError('required')">Campo requerido.</small>
              <small class="p-error" *ngIf="form.get('address')?.hasError('maxlength')">Dirección no válida.</small>
            </div>
    
          </div>
    
          <button pButton type="submit" class="p-button-raised p-button-rounded" label="Actualizar" [disabled]="form.invalid"></button>
        </form>
    
        <p-messages [(value)]="messages"></p-messages>
        
      </div>
    </div>    

  </div>

  <ng-template #elseBlock>
    <div class="centerNotFound">
      <h2>Central no encontrada</h2>
      <button pButton type="button" [routerLink]="centerPath" class="back-btn p-button-raised p-button-rounded" label="Volver"></button>
      <p-messages [(value)]="messages" ></p-messages>
    </div>
  </ng-template>

</ng-template>
